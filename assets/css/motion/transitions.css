/* ==========================================================================
   OWF — View Transitions & Route Animations
   ========================================================================== */

/* --------------------------------------------------------------------------
   1. Keyframes — Fade
   -------------------------------------------------------------------------- */

@keyframes fadeIn {
  from { opacity: 0; }
  to   { opacity: 1; }
}

@keyframes fadeOut {
  from { opacity: 1; }
  to   { opacity: 0; }
}

/* --------------------------------------------------------------------------
   2. Keyframes — Horizontal Slide
   -------------------------------------------------------------------------- */

@keyframes slideInLeft {
  from {
    opacity: 0;
    transform: translateX(-32px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes slideOutLeft {
  from {
    opacity: 1;
    transform: translateX(0);
  }
  to {
    opacity: 0;
    transform: translateX(-32px);
  }
}

@keyframes slideInRight {
  from {
    opacity: 0;
    transform: translateX(32px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes slideOutRight {
  from {
    opacity: 1;
    transform: translateX(0);
  }
  to {
    opacity: 0;
    transform: translateX(32px);
  }
}

/* --------------------------------------------------------------------------
   3. Keyframes — Vertical Slide
   -------------------------------------------------------------------------- */

@keyframes slideInUp {
  from {
    opacity: 0;
    transform: translateY(24px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideOutUp {
  from {
    opacity: 1;
    transform: translateY(0);
  }
  to {
    opacity: 0;
    transform: translateY(-24px);
  }
}

@keyframes slideInDown {
  from {
    opacity: 0;
    transform: translateY(-24px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideOutDown {
  from {
    opacity: 1;
    transform: translateY(0);
  }
  to {
    opacity: 0;
    transform: translateY(24px);
  }
}

/* --------------------------------------------------------------------------
   4. Utility Transition Classes
   -------------------------------------------------------------------------- */

/* Fade */
.transition-fade-enter {
  animation: fadeIn 250ms ease both;
}

.transition-fade-leave {
  animation: fadeOut 200ms ease both;
}

.transition-fade {
  transition: opacity var(--transition-normal);
}

.transition-fade.is-hidden {
  opacity: 0;
  pointer-events: none;
}

/* Slide */
.transition-slide-left-enter  { animation: slideInLeft  300ms cubic-bezier(0.22, 1, 0.36, 1) both; }
.transition-slide-left-leave  { animation: slideOutLeft 200ms ease both; }
.transition-slide-right-enter { animation: slideInRight 300ms cubic-bezier(0.22, 1, 0.36, 1) both; }
.transition-slide-right-leave { animation: slideOutRight 200ms ease both; }
.transition-slide-up-enter    { animation: slideInUp    300ms cubic-bezier(0.22, 1, 0.36, 1) both; }
.transition-slide-up-leave    { animation: slideOutUp   200ms ease both; }
.transition-slide-down-enter  { animation: slideInDown  300ms cubic-bezier(0.22, 1, 0.36, 1) both; }
.transition-slide-down-leave  { animation: slideOutDown 200ms ease both; }

/* Generic slide (direction inferred by JS) */
.transition-slide {
  transition: transform var(--transition-normal), opacity var(--transition-normal);
}

/* --------------------------------------------------------------------------
   5. CSS View Transitions API
      Opt-in to smooth browser-native page transitions.
   -------------------------------------------------------------------------- */

@view-transition {
  navigation: auto;
}

/* Default cross-fade for the whole page */
::view-transition-old(root) {
  animation: fadeOut 200ms ease both;
}

::view-transition-new(root) {
  animation: fadeIn 300ms ease both;
}

/* Named transition for the main feed area */
.app-main,
main {
  view-transition-name: main-content;
}

::view-transition-old(main-content) {
  animation: slideOutLeft 200ms ease both;
}

::view-transition-new(main-content) {
  animation: slideInRight 300ms cubic-bezier(0.22, 1, 0.36, 1) both;
}

/* Named transition for the page header title */
.page-header__title {
  view-transition-name: page-title;
}

::view-transition-old(page-title) {
  animation: fadeOut 150ms ease both;
}

::view-transition-new(page-title) {
  animation: fadeIn 250ms ease 100ms both;
}

/* --------------------------------------------------------------------------
   6. Modal / Dialog Transitions
   -------------------------------------------------------------------------- */

.modal-enter { animation: slideInUp 300ms cubic-bezier(0.22, 1, 0.36, 1) both; }
.modal-leave { animation: slideOutDown 200ms ease both; }

.backdrop-enter { animation: fadeIn  200ms ease both; }
.backdrop-leave { animation: fadeOut 200ms ease both; }

/* --------------------------------------------------------------------------
   7. Dropdown / Popover Transitions
   -------------------------------------------------------------------------- */

.dropdown-enter {
  animation: slideInDown 200ms cubic-bezier(0.22, 1, 0.36, 1) both;
  transform-origin: top center;
}

.dropdown-leave {
  animation: slideOutUp 150ms ease both;
  transform-origin: top center;
}

/* --------------------------------------------------------------------------
   8. Toast Notification Transitions
   -------------------------------------------------------------------------- */

.toast-enter {
  animation: slideInRight 300ms cubic-bezier(0.22, 1, 0.36, 1) both;
}

.toast-leave {
  animation: slideOutRight 200ms ease both;
}

/* --------------------------------------------------------------------------
   9. Panel / Drawer Transitions
   -------------------------------------------------------------------------- */

@keyframes drawerSlideInRight {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

@keyframes drawerSlideOutRight {
  from {
    transform: translateX(0);
    opacity: 1;
  }
  to {
    transform: translateX(100%);
    opacity: 0;
  }
}

.drawer-enter { animation: drawerSlideInRight  300ms cubic-bezier(0.22, 1, 0.36, 1) both; }
.drawer-leave { animation: drawerSlideOutRight 250ms ease both; }
